{"remainingRequest":"E:\\platzi\\MINTIC_curso-de-machine-learning-para-analisis-predicitivo\\fabrica-memes\\node_modules\\babel-loader\\lib\\index.js!E:\\platzi\\MINTIC_curso-de-machine-learning-para-analisis-predicitivo\\fabrica-memes\\node_modules\\vuetify\\lib\\components\\VCalendar\\mixins\\calendar-with-events.js","dependencies":[{"path":"E:\\platzi\\MINTIC_curso-de-machine-learning-para-analisis-predicitivo\\fabrica-memes\\node_modules\\vuetify\\lib\\components\\VCalendar\\mixins\\calendar-with-events.js","mtime":1572028884723},{"path":"E:\\platzi\\MINTIC_curso-de-machine-learning-para-analisis-predicitivo\\fabrica-memes\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1572028745598},{"path":"E:\\platzi\\MINTIC_curso-de-machine-learning-para-analisis-predicitivo\\fabrica-memes\\node_modules\\babel-loader\\lib\\index.js","mtime":1572028741166}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gU3R5bGVzCmltcG9ydCAiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkNhbGVuZGFyL21peGlucy9jYWxlbmRhci13aXRoLWV2ZW50cy5zYXNzIjsgLy8gRGlyZWN0aXZlcwoKaW1wb3J0IHJpcHBsZSBmcm9tICcuLi8uLi8uLi9kaXJlY3RpdmVzL3JpcHBsZSc7IC8vIE1peGlucwoKaW1wb3J0IENhbGVuZGFyQmFzZSBmcm9tICcuL2NhbGVuZGFyLWJhc2UnOyAvLyBVdGlsCgppbXBvcnQgcHJvcHMgZnJvbSAnLi4vdXRpbC9wcm9wcyc7CmltcG9ydCB7IGdldERheUlkZW50aWZpZXIsIHBhcnNlVGltZSB9IGZyb20gJy4uL3V0aWwvdGltZXN0YW1wJzsKaW1wb3J0IHsgcGFyc2VFdmVudCwgaXNFdmVudE9uIH0gZnJvbSAnLi4vdXRpbC9ldmVudHMnOwovKiBAdnVlL2NvbXBvbmVudCAqLwoKZXhwb3J0IGRlZmF1bHQgQ2FsZW5kYXJCYXNlLmV4dGVuZCh7CiAgbmFtZTogJ2NhbGVuZGFyLXdpdGgtZXZlbnRzJywKICBkaXJlY3RpdmVzOiB7CiAgICByaXBwbGUKICB9LAogIHByb3BzOiBwcm9wcy5ldmVudHMsCiAgY29tcHV0ZWQ6IHsKICAgIG5vRXZlbnRzKCkgewogICAgICByZXR1cm4gdGhpcy5ldmVudHMubGVuZ3RoID09PSAwOwogICAgfSwKCiAgICBwYXJzZWRFdmVudHMoKSB7CiAgICAgIHJldHVybiB0aGlzLmV2ZW50cy5tYXAoKGlucHV0LCBpbmRleCkgPT4gcGFyc2VFdmVudChpbnB1dCwgaW5kZXgsIHRoaXMuZXZlbnRTdGFydCwgdGhpcy5ldmVudEVuZCkpOwogICAgfSwKCiAgICBldmVudENvbG9yRnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5ldmVudENvbG9yID09PSAnZnVuY3Rpb24nID8gdGhpcy5ldmVudENvbG9yIDogKCkgPT4gdGhpcy5ldmVudENvbG9yOwogICAgfSwKCiAgICBldmVudFRleHRDb2xvckZ1bmN0aW9uKCkgewogICAgICByZXR1cm4gdHlwZW9mIHRoaXMuZXZlbnRUZXh0Q29sb3IgPT09ICdmdW5jdGlvbicgPyB0aGlzLmV2ZW50VGV4dENvbG9yIDogKCkgPT4gdGhpcy5ldmVudFRleHRDb2xvcjsKICAgIH0sCgogICAgZXZlbnROYW1lRnVuY3Rpb24oKSB7CiAgICAgIHJldHVybiB0eXBlb2YgdGhpcy5ldmVudE5hbWUgPT09ICdmdW5jdGlvbicgPyB0aGlzLmV2ZW50TmFtZSA6IChldmVudCwgdGltZWRFdmVudCkgPT4gewogICAgICAgIGNvbnN0IG5hbWUgPSBldmVudC5pbnB1dFt0aGlzLmV2ZW50TmFtZV07CgogICAgICAgIGlmIChldmVudC5zdGFydC5oYXNUaW1lKSB7CiAgICAgICAgICBpZiAodGltZWRFdmVudCkgewogICAgICAgICAgICBjb25zdCBzaG93U3RhcnQgPSBldmVudC5zdGFydC5ob3VyIDwgMTIgJiYgZXZlbnQuZW5kLmhvdXIgPj0gMTI7CiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gdGhpcy5mb3JtYXRUaW1lKGV2ZW50LnN0YXJ0LCBzaG93U3RhcnQpOwogICAgICAgICAgICBjb25zdCBlbmQgPSB0aGlzLmZvcm1hdFRpbWUoZXZlbnQuZW5kLCB0cnVlKTsKICAgICAgICAgICAgcmV0dXJuIGA8c3Ryb25nPiR7bmFtZX08L3N0cm9uZz48YnI+JHtzdGFydH0gLSAke2VuZH1gOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgY29uc3QgdGltZSA9IHRoaXMuZm9ybWF0VGltZShldmVudC5zdGFydCwgdHJ1ZSk7CiAgICAgICAgICAgIHJldHVybiBgPHN0cm9uZz4ke3RpbWV9PC9zdHJvbmc+ICR7bmFtZX1gOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgcmV0dXJuIG5hbWU7CiAgICAgIH07CiAgICB9CgogIH0sCiAgbWV0aG9kczogewogICAgZm9ybWF0VGltZSh3aXRoVGltZSwgYW1wbSkgewogICAgICBjb25zdCBzdWZmaXggPSBhbXBtID8gd2l0aFRpbWUuaG91ciA8IDEyID8gJ2EnIDogJ3AnIDogJyc7CiAgICAgIGNvbnN0IGhvdXIgPSB3aXRoVGltZS5ob3VyICUgMTIgfHwgMTI7CiAgICAgIGNvbnN0IG1pbnV0ZSA9IHdpdGhUaW1lLm1pbnV0ZTsKICAgICAgcmV0dXJuIG1pbnV0ZSA+IDAgPyBtaW51dGUgPCAxMCA/IGAke2hvdXJ9OjAke21pbnV0ZX0ke3N1ZmZpeH1gIDogYCR7aG91cn06JHttaW51dGV9JHtzdWZmaXh9YCA6IGAke2hvdXJ9JHtzdWZmaXh9YDsKICAgIH0sCgogICAgdXBkYXRlRXZlbnRWaXNpYmlsaXR5KCkgewogICAgICBpZiAodGhpcy5ub0V2ZW50cyB8fCAhdGhpcy5ldmVudE1vcmUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KCiAgICAgIGNvbnN0IGV2ZW50SGVpZ2h0ID0gdGhpcy5ldmVudEhlaWdodDsKICAgICAgY29uc3QgZXZlbnRzTWFwID0gdGhpcy5nZXRFdmVudHNNYXAoKTsKCiAgICAgIGZvciAoY29uc3QgZGF0ZSBpbiBldmVudHNNYXApIHsKICAgICAgICBjb25zdCB7CiAgICAgICAgICBwYXJlbnQsCiAgICAgICAgICBldmVudHMsCiAgICAgICAgICBtb3JlCiAgICAgICAgfSA9IGV2ZW50c01hcFtkYXRlXTsKCiAgICAgICAgaWYgKCFtb3JlKSB7CiAgICAgICAgICBicmVhazsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHBhcmVudEJvdW5kcyA9IHBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICBjb25zdCBsYXN0ID0gZXZlbnRzLmxlbmd0aCAtIDE7CiAgICAgICAgbGV0IGhpZGUgPSBmYWxzZTsKICAgICAgICBsZXQgaGlkZGVuID0gMDsKCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gbGFzdDsgaSsrKSB7CiAgICAgICAgICBpZiAoIWhpZGUpIHsKICAgICAgICAgICAgY29uc3QgZXZlbnRCb3VuZHMgPSBldmVudHNbaV0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgICAgIGhpZGUgPSBldmVudEJvdW5kcy5ib3R0b20gKyBldmVudEhlaWdodCA+IHBhcmVudEJvdW5kcy5ib3R0b20gJiYgaSAhPT0gbGFzdCB8fCBldmVudHNbaV0uc3R5bGUuZGlzcGxheSA9PT0gJ25vbmUnOwogICAgICAgICAgfQoKICAgICAgICAgIGlmIChoaWRlKSB7CiAgICAgICAgICAgIGNvbnN0IGlkID0gZXZlbnRzW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1ldmVudCcpOwogICAgICAgICAgICB0aGlzLmhpZGVFdmVudHMoaWQpOwogICAgICAgICAgICBoaWRkZW4rKzsKICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChoaWRlKSB7CiAgICAgICAgICBtb3JlLnN0eWxlLmRpc3BsYXkgPSAnJzsKICAgICAgICAgIG1vcmUuaW5uZXJIVE1MID0gdGhpcy4kdnVldGlmeS5sYW5nLnQodGhpcy5ldmVudE1vcmVUZXh0LCBoaWRkZW4pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBtb3JlLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgICAgfQogICAgICB9CiAgICB9LAoKICAgIGhpZGVFdmVudHMoaWQpIHsKICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLiRyZWZzLmV2ZW50czsKICAgICAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7CiAgICAgICAgaWYgKGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1ldmVudCcpID09PSBpZCkgewogICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRFdmVudHNNYXAoKSB7CiAgICAgIGNvbnN0IGV2ZW50c01hcCA9IHt9OwogICAgICBjb25zdCBlbGVtZW50cyA9IHRoaXMuJHJlZnMuZXZlbnRzOwoKICAgICAgaWYgKCFlbGVtZW50cyB8fCAhZWxlbWVudHMuZm9yRWFjaCkgewogICAgICAgIHJldHVybiBldmVudHNNYXA7CiAgICAgIH0KCiAgICAgIGVsZW1lbnRzLmZvckVhY2goZWwgPT4gewogICAgICAgIGNvbnN0IGRhdGUgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtZGF0ZScpOwoKICAgICAgICBpZiAoZWwucGFyZW50RWxlbWVudCAmJiBkYXRlKSB7CiAgICAgICAgICBpZiAoIShkYXRlIGluIGV2ZW50c01hcCkpIHsKICAgICAgICAgICAgZXZlbnRzTWFwW2RhdGVdID0gewogICAgICAgICAgICAgIHBhcmVudDogZWwucGFyZW50RWxlbWVudCwKICAgICAgICAgICAgICBtb3JlOiBudWxsLAogICAgICAgICAgICAgIGV2ZW50czogW10KICAgICAgICAgICAgfTsKICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoZWwuZ2V0QXR0cmlidXRlKCdkYXRhLW1vcmUnKSkgewogICAgICAgICAgICBldmVudHNNYXBbZGF0ZV0ubW9yZSA9IGVsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZXZlbnRzTWFwW2RhdGVdLmV2ZW50cy5wdXNoKGVsKTsKICAgICAgICAgICAgZWwuc3R5bGUuZGlzcGxheSA9ICcnOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBldmVudHNNYXA7CiAgICB9LAoKICAgIGdlbkRheUV2ZW50KHsKICAgICAgb2Zmc2V0LAogICAgICBldmVudAogICAgfSwgaW5kZXgsIGRheSkgewogICAgICBjb25zdCBldmVudEhlaWdodCA9IHRoaXMuZXZlbnRIZWlnaHQ7CiAgICAgIGNvbnN0IGV2ZW50TWFyZ2luQm90dG9tID0gdGhpcy5ldmVudE1hcmdpbkJvdHRvbTsKICAgICAgY29uc3QgcmVsYXRpdmVPZmZzZXQgPSAob2Zmc2V0IC0gaW5kZXgpICogKGV2ZW50SGVpZ2h0ICsgZXZlbnRNYXJnaW5Cb3R0b20pOyAvLyAxID0gbWFyZ2luIGJvdHRvbQoKICAgICAgY29uc3QgZGF5SWRlbnRpZmllciA9IGdldERheUlkZW50aWZpZXIoZGF5KTsKICAgICAgY29uc3Qgc3RhcnQgPSBkYXlJZGVudGlmaWVyID09PSBldmVudC5zdGFydElkZW50aWZpZXI7CiAgICAgIGNvbnN0IGVuZCA9IGRheUlkZW50aWZpZXIgPT09IGV2ZW50LmVuZElkZW50aWZpZXI7CiAgICAgIGNvbnN0IHNjb3BlID0gewogICAgICAgIGV2ZW50OiBldmVudC5pbnB1dCwKICAgICAgICBkYXksCiAgICAgICAgb3V0c2lkZTogZGF5Lm91dHNpZGUsCiAgICAgICAgc3RhcnQsCiAgICAgICAgZW5kLAogICAgICAgIHRpbWVkOiBmYWxzZQogICAgICB9OwogICAgICByZXR1cm4gdGhpcy5nZW5FdmVudChldmVudCwgc2NvcGUsIHN0YXJ0IHx8IGRheS5pbmRleCA9PT0gMCwgZmFsc2UsIHsKICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQnLAogICAgICAgIGNsYXNzOiB7CiAgICAgICAgICAndi1ldmVudC1zdGFydCc6IHN0YXJ0LAogICAgICAgICAgJ3YtZXZlbnQtZW5kJzogZW5kCiAgICAgICAgfSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgaGVpZ2h0OiBgJHtldmVudEhlaWdodH1weGAsCiAgICAgICAgICB0b3A6IGAke3JlbGF0aXZlT2Zmc2V0fXB4YCwKICAgICAgICAgICdtYXJnaW4tYm90dG9tJzogYCR7ZXZlbnRNYXJnaW5Cb3R0b219cHhgCiAgICAgICAgfSwKICAgICAgICBhdHRyczogewogICAgICAgICAgJ2RhdGEtZGF0ZSc6IGRheS5kYXRlLAogICAgICAgICAgJ2RhdGEtZXZlbnQnOiBldmVudC5pbmRleAogICAgICAgIH0sCiAgICAgICAga2V5OiBldmVudC5pbmRleCwKICAgICAgICByZWY6ICdldmVudHMnLAogICAgICAgIHJlZkluRm9yOiB0cnVlCiAgICAgIH0pOwogICAgfSwKCiAgICBnZW5UaW1lZEV2ZW50KHsKICAgICAgb2Zmc2V0LAogICAgICBldmVudCwKICAgICAgY29sdW1uQ291bnQsCiAgICAgIGNvbHVtbgogICAgfSwgaW5kZXgsIGRheSkgewogICAgICBjb25zdCBkYXlJZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICBjb25zdCBzdGFydCA9IGV2ZW50LnN0YXJ0SWRlbnRpZmllciA+PSBkYXlJZGVudGlmaWVyOwogICAgICBjb25zdCBlbmQgPSBldmVudC5lbmRJZGVudGlmaWVyID4gZGF5SWRlbnRpZmllcjsKICAgICAgY29uc3QgdG9wID0gc3RhcnQgPyBkYXkudGltZVRvWShldmVudC5zdGFydCkgOiAwOwogICAgICBjb25zdCBib3R0b20gPSBlbmQgPyBkYXkudGltZVRvWSgxNDQwKSA6IGRheS50aW1lVG9ZKGV2ZW50LmVuZCk7CiAgICAgIGNvbnN0IGhlaWdodCA9IE1hdGgubWF4KHRoaXMuZXZlbnRIZWlnaHQsIGJvdHRvbSAtIHRvcCk7CiAgICAgIGNvbnN0IGxlZnQgPSBjb2x1bW5Db3VudCA9PT0gLTEgPyBvZmZzZXQgKiA1IDogY29sdW1uICogMTAwIC8gY29sdW1uQ291bnQ7CiAgICAgIGNvbnN0IHJpZ2h0ID0gY29sdW1uQ291bnQgPT09IC0xID8gMCA6IE1hdGgubWF4KDAsIChjb2x1bW5Db3VudCAtIGNvbHVtbiAtIDIpICogMTAwIC8gY29sdW1uQ291bnQgKyAxMCk7CiAgICAgIGNvbnN0IHNjb3BlID0gewogICAgICAgIGV2ZW50OiBldmVudC5pbnB1dCwKICAgICAgICBkYXksCiAgICAgICAgb3V0c2lkZTogZGF5Lm91dHNpZGUsCiAgICAgICAgc3RhcnQsCiAgICAgICAgZW5kLAogICAgICAgIHRpbWVkOiB0cnVlCiAgICAgIH07CiAgICAgIHJldHVybiB0aGlzLmdlbkV2ZW50KGV2ZW50LCBzY29wZSwgdHJ1ZSwgdHJ1ZSwgewogICAgICAgIHN0YXRpY0NsYXNzOiAndi1ldmVudC10aW1lZCcsCiAgICAgICAgc3R5bGU6IHsKICAgICAgICAgIHRvcDogYCR7dG9wfXB4YCwKICAgICAgICAgIGhlaWdodDogYCR7aGVpZ2h0fXB4YCwKICAgICAgICAgIGxlZnQ6IGAke2xlZnR9JWAsCiAgICAgICAgICByaWdodDogYCR7cmlnaHR9JWAKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKCiAgICBnZW5FdmVudChldmVudCwgc2NvcGUsIHNob3dOYW1lLCB0aW1lZEV2ZW50LCBkYXRhKSB7CiAgICAgIGNvbnN0IHNsb3QgPSB0aGlzLiRzY29wZWRTbG90cy5ldmVudDsKICAgICAgY29uc3QgdGV4dCA9IHRoaXMuZXZlbnRUZXh0Q29sb3JGdW5jdGlvbihldmVudC5pbnB1dCk7CiAgICAgIGNvbnN0IGJhY2tncm91bmQgPSB0aGlzLmV2ZW50Q29sb3JGdW5jdGlvbihldmVudC5pbnB1dCk7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB0aGlzLnNldFRleHRDb2xvcih0ZXh0LCB0aGlzLnNldEJhY2tncm91bmRDb2xvcihiYWNrZ3JvdW5kLCB7CiAgICAgICAgb246IHRoaXMuZ2V0RGVmYXVsdE1vdXNlRXZlbnRIYW5kbGVycygnOmV2ZW50JywgbmF0aXZlRXZlbnQgPT4gKHsgLi4uc2NvcGUsCiAgICAgICAgICBuYXRpdmVFdmVudAogICAgICAgIH0pKSwKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogJ3JpcHBsZScsCiAgICAgICAgICB2YWx1ZTogdGhpcy5ldmVudFJpcHBsZSAhPSBudWxsID8gdGhpcy5ldmVudFJpcHBsZSA6IHRydWUKICAgICAgICB9XSwKICAgICAgICAuLi5kYXRhCiAgICAgIH0pKSwgc2xvdCA/IHNsb3Qoc2NvcGUpIDogc2hvd05hbWUgPyBbdGhpcy5nZW5OYW1lKGV2ZW50LCB0aW1lZEV2ZW50KV0gOiB1bmRlZmluZWQpOwogICAgfSwKCiAgICBnZW5OYW1lKGV2ZW50LCB0aW1lZEV2ZW50KSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICdwbC0xJywKICAgICAgICBkb21Qcm9wczogewogICAgICAgICAgaW5uZXJIVE1MOiB0aGlzLmV2ZW50TmFtZUZ1bmN0aW9uKGV2ZW50LCB0aW1lZEV2ZW50KQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAoKICAgIGdlbk1vcmUoZGF5KSB7CiAgICAgIHJldHVybiB0aGlzLiRjcmVhdGVFbGVtZW50KCdkaXYnLCB7CiAgICAgICAgc3RhdGljQ2xhc3M6ICd2LWV2ZW50LW1vcmUgcGwtMScsCiAgICAgICAgYXR0cnM6IHsKICAgICAgICAgICdkYXRhLWRhdGUnOiBkYXkuZGF0ZSwKICAgICAgICAgICdkYXRhLW1vcmUnOiAxCiAgICAgICAgfSwKICAgICAgICBkaXJlY3RpdmVzOiBbewogICAgICAgICAgbmFtZTogJ3JpcHBsZScsCiAgICAgICAgICB2YWx1ZTogdGhpcy5ldmVudFJpcHBsZSAhPSBudWxsID8gdGhpcy5ldmVudFJpcHBsZSA6IHRydWUKICAgICAgICB9XSwKICAgICAgICBvbjogewogICAgICAgICAgY2xpY2s6ICgpID0+IHRoaXMuJGVtaXQoJ2NsaWNrOm1vcmUnLCBkYXkpCiAgICAgICAgfSwKICAgICAgICBzdHlsZTogewogICAgICAgICAgZGlzcGxheTogJ25vbmUnCiAgICAgICAgfSwKICAgICAgICByZWY6ICdldmVudHMnLAogICAgICAgIHJlZkluRm9yOiB0cnVlCiAgICAgIH0pOwogICAgfSwKCiAgICBnZXRFdmVudHNGb3JEYXkoZGF5KSB7CiAgICAgIGNvbnN0IGlkZW50aWZpZXIgPSBnZXREYXlJZGVudGlmaWVyKGRheSk7CiAgICAgIHJldHVybiB0aGlzLnBhcnNlZEV2ZW50cy5maWx0ZXIoZXZlbnQgPT4gaXNFdmVudE9uKGV2ZW50LCBpZGVudGlmaWVyKSk7CiAgICB9LAoKICAgIGdldEV2ZW50c0ZvckRheUFsbChkYXkpIHsKICAgICAgY29uc3QgaWRlbnRpZmllciA9IGdldERheUlkZW50aWZpZXIoZGF5KTsKICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRXZlbnRzLmZpbHRlcihldmVudCA9PiBldmVudC5hbGxEYXkgJiYgaXNFdmVudE9uKGV2ZW50LCBpZGVudGlmaWVyKSk7CiAgICB9LAoKICAgIGdldEV2ZW50c0ZvckRheVRpbWVkKGRheSkgewogICAgICBjb25zdCBpZGVudGlmaWVyID0gZ2V0RGF5SWRlbnRpZmllcihkYXkpOwogICAgICByZXR1cm4gdGhpcy5wYXJzZWRFdmVudHMuZmlsdGVyKGV2ZW50ID0+ICFldmVudC5hbGxEYXkgJiYgaXNFdmVudE9uKGV2ZW50LCBpZGVudGlmaWVyKSk7CiAgICB9LAoKICAgIGlzU2FtZUNvbHVtbihhLCBiKSB7CiAgICAgIGNvbnN0IGFzdGFydCA9IHBhcnNlVGltZShhLmV2ZW50LnN0YXJ0KTsKICAgICAgY29uc3QgYnN0YXJ0ID0gcGFyc2VUaW1lKGIuZXZlbnQuc3RhcnQpOwogICAgICBjb25zdCBkaWZmID0gYXN0YXJ0IC0gYnN0YXJ0OwogICAgICBjb25zdCBhYnMgPSBkaWZmIDwgMCA/IC1kaWZmIDogZGlmZjsKICAgICAgcmV0dXJuIGFicyA8IHRoaXMuZXZlbnRPdmVybGFwVGhyZXNob2xkOwogICAgfSwKCiAgICBpc092ZXJsYXBwaW5nKGEsIGIpIHsKICAgICAgY29uc3QgYXN0YXJ0ID0gcGFyc2VUaW1lKGEuZXZlbnQuc3RhcnQpOwogICAgICBjb25zdCBic3RhcnQgPSBwYXJzZVRpbWUoYi5ldmVudC5zdGFydCk7CgogICAgICBpZiAoYS5vZmZzZXQgPCBiLm9mZnNldCAmJiBic3RhcnQgPCBhc3RhcnQpIHsKICAgICAgICBjb25zdCBhZW5kID0gYXN0YXJ0ICsgdGhpcy5ldmVudE92ZXJsYXBUaHJlc2hvbGQ7CiAgICAgICAgY29uc3QgYmVuZCA9IHBhcnNlVGltZShiLmV2ZW50LmVuZCk7CiAgICAgICAgcmV0dXJuICEoYXN0YXJ0ID49IGJlbmQgfHwgYWVuZCA8PSBic3RhcnQpOwogICAgICB9CgogICAgICByZXR1cm4gZmFsc2U7CiAgICB9LAoKICAgIGdldFNjb3BlZFNsb3RzKCkgewogICAgICBpZiAodGhpcy5ub0V2ZW50cykgewogICAgICAgIHJldHVybiB0aGlzLiRzY29wZWRTbG90czsKICAgICAgfQogICAgICAvKioNCiAgICAgICAqIE92ZXIgdGhlIHNwYW4gb2YgYSB3ZWVrIChmb3IgZXhhbXBsZSkgd2Ugd2FudCB0byBtYWludGFpbiBhbiBldmVudCBpbiB0aGUgc2FtZSByb3cgKGZvciB3ZWVrbHkgYW5kIG1vbnRobHkgdmlld3MpLg0KICAgICAgICogV2Uga2VlcCB0cmFjayBvZiB0aG9zZSByb3dzIGJ5IGluZGV4VG9PZmZzZXQuIElmIHRoZSB2YWx1ZSBpbiB0aGF0IGFycmF5IGlzIC0xLCB0aGVuIHdlIGNhbiBwbGFjZSBhbiBldmVudCBhdCB0aGF0IHNwb3QuDQogICAgICAgKiBGb3IgYSBkYWlseSB2aWV3IHdpdGggdGltZWQgZXZlbnRzIHdlIGFycmFuZ2UgdGhlbSBiYXNlZCBvbiBjb2x1bW5zIGFuZCBvZmZzZXRzLiBJZiB0d28gb3IgbW9yZSBldmVudHMgc3RhcnQgYXQgYXJvdW5kIHRoZQ0KICAgICAgICogc2FtZSB0aW1lIChldmVudE92ZXJsYXBUaHJlc2hvbGQpIHRoZXkgZ28gaW50byBjb2x1bW5zLiBJZiBvbmUgZXZlbnQgc3RhcnRzIGluc2lkZSBhbm90aGVyIGl0IGlzIGluZGVudGVkIHRoZSBhcHByb3ByaWF0ZSBhbW91bnQuDQogICAgICAgKiBJZiBvbmUgZXZlbnQgb3ZlcmxhcHMgYW5vdGhlciBhZnRlciB0aG9zZSBhZGp1c3RtZW50cyBhcmUgbWFkZSB0aG9zZSBldmVudHMgYXJlIHBsYWNlZCBpbiBjb2x1bW5zIHRvZ2V0aGVyIGluc3RlYWQgb2YgYW55IGRlZmluZWQNCiAgICAgICAqIGluZGVudHMuDQogICAgICAgKi8KCgogICAgICBjb25zdCBwYXJzZWRFdmVudHMgPSB0aGlzLnBhcnNlZEV2ZW50czsKICAgICAgY29uc3QgaW5kZXhUb09mZnNldCA9IHBhcnNlZEV2ZW50cy5tYXAoZXZlbnQgPT4gLTEpOwogICAgICBjb25zdCByZXNldE9uV2Vla2RheSA9IHRoaXMud2Vla2RheXNbMF07CgogICAgICBjb25zdCBjaGVja1Jlc2V0ID0gZGF5ID0+IHsKICAgICAgICBpZiAoZGF5LndlZWtkYXkgPT09IHJlc2V0T25XZWVrZGF5KSB7CiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4VG9PZmZzZXQubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgaW5kZXhUb09mZnNldFtpXSA9IC0xOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKCiAgICAgIGNvbnN0IGdldE9mZnNldCA9ICh2aXN1YWwsIHZpc3VhbHMpID0+IHsKICAgICAgICBsZXQgb2Zmc2V0ID0gaW5kZXhUb09mZnNldFt2aXN1YWwuZXZlbnQuaW5kZXhdOwoKICAgICAgICBpZiAob2Zmc2V0ID09PSAtMSkgewogICAgICAgICAgbGV0IG1pbiA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwogICAgICAgICAgbGV0IG1heCA9IC0xOwogICAgICAgICAgdmlzdWFscy5mb3JFYWNoKG90aGVyID0+IHsKICAgICAgICAgICAgY29uc3Qgb3RoZXJPZmZzZXQgPSBpbmRleFRvT2Zmc2V0W290aGVyLmV2ZW50LmluZGV4XTsKCiAgICAgICAgICAgIGlmIChvdGhlck9mZnNldCAhPT0gLTEpIHsKICAgICAgICAgICAgICBtaW4gPSBNYXRoLm1pbihtaW4sIG90aGVyT2Zmc2V0KTsKICAgICAgICAgICAgICBtYXggPSBNYXRoLm1heChtYXgsIG90aGVyT2Zmc2V0KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgICBvZmZzZXQgPSBtaW4gPiAwICYmIG1heCAhPT0gLTEgPyBtaW4gLSAxIDogbWF4ICsgMTsKICAgICAgICAgIGluZGV4VG9PZmZzZXRbdmlzdWFsLmV2ZW50LmluZGV4XSA9IG9mZnNldDsKICAgICAgICB9CgogICAgICAgIHJldHVybiBvZmZzZXQ7CiAgICAgIH07CgogICAgICBjb25zdCBnZXRWaXN1YWxzID0gKGV2ZW50cywgdGltZWQpID0+IHsKICAgICAgICBjb25zdCB2aXN1YWxzID0gZXZlbnRzLm1hcChldmVudCA9PiAoewogICAgICAgICAgZXZlbnQsCiAgICAgICAgICBvZmZzZXQ6IDAsCiAgICAgICAgICBjb2x1bW5Db3VudDogLTEsCiAgICAgICAgICBjb2x1bW46IC0xCiAgICAgICAgfSkpOyAvLyBzb3J0IGV2ZW50cyBieSBzdGFydCBkYXRlL3RpbWUKCiAgICAgICAgdmlzdWFscy5zb3J0KChhLCBiKSA9PiBhLmV2ZW50LnN0YXJ0VGltZXN0YW1wSWRlbnRpZmllciAtIGIuZXZlbnQuc3RhcnRUaW1lc3RhbXBJZGVudGlmaWVyKTsKCiAgICAgICAgaWYgKHRpbWVkKSB7CiAgICAgICAgICAvLyB0aW1lZCBldmVudHMgY2FuIGJlIG9yZ2FuaXplZCBpbnRvIGNvbHVtbnMKICAgICAgICAgIHZpc3VhbHMuZm9yRWFjaCh2aXN1YWwgPT4gewogICAgICAgICAgICBpZiAodmlzdWFsLmNvbHVtbkNvdW50ICE9PSAtMSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgY29uc3QgY29sdW1ucyA9IFtdOwogICAgICAgICAgICB2aXN1YWxzLmZvckVhY2gob3RoZXIgPT4gewogICAgICAgICAgICAgIGlmIChvdGhlci5jb2x1bW5Db3VudCA9PT0gLTEgJiYgdGhpcy5pc1NhbWVDb2x1bW4odmlzdWFsLCBvdGhlcikpIHsKICAgICAgICAgICAgICAgIGNvbHVtbnMucHVzaChvdGhlcik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goKHZpc3VhbCwgdmlzdWFsSW5kZXgpID0+IHsKICAgICAgICAgICAgICAgIHZpc3VhbC5jb2x1bW4gPSB2aXN1YWxJbmRleDsKICAgICAgICAgICAgICAgIHZpc3VhbC5jb2x1bW5Db3VudCA9IGNvbHVtbnMubGVuZ3RoOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsgLy8gZm9yIGFueSBub3Qgb3JnYW5pemVkIGludG8gY29sdW1ucywgaWYgdGhleSBvdmVybGFwIGFub3RoZXIgZXZlbnQKICAgICAgICAgIC8vIG5vdCBpbiBhIGNvbHVtbiB0aGV5IGFyZSBvZmZzZXQKCiAgICAgICAgICB2aXN1YWxzLmZvckVhY2godmlzdWFsID0+IHsKICAgICAgICAgICAgaWYgKHZpc3VhbC5jb2x1bW5Db3VudCA9PT0gLTEpIHsKICAgICAgICAgICAgICB2aXN1YWxzLmZvckVhY2gob3RoZXIgPT4gewogICAgICAgICAgICAgICAgY29uc3Qgb3RoZXJPZmZzZXQgPSBpbmRleFRvT2Zmc2V0W290aGVyLmV2ZW50LmluZGV4XTsKCiAgICAgICAgICAgICAgICBpZiAob3RoZXJPZmZzZXQgIT09IC0xICYmIG90aGVyLmV2ZW50LmVuZFRpbWVzdGFtcElkZW50aWZpZXIgPD0gdmlzdWFsLmV2ZW50LnN0YXJ0VGltZXN0YW1wSWRlbnRpZmllcikgewogICAgICAgICAgICAgICAgICBpbmRleFRvT2Zmc2V0W290aGVyLmV2ZW50LmluZGV4XSA9IC0xOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIHZpc3VhbC5vZmZzZXQgPSBnZXRPZmZzZXQodmlzdWFsLCB2aXN1YWxzKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7IC8vIGZvciBhbnkgbm90IG9yZ2FuaXplZCBpbnRvIGNvbHVtbnMsIGlmIGEgcHJldmlvdXMgZXZlbnQgb3ZlcmxhcHMgdGhpcyBldmVudAogICAgICAgICAgLy8gam9pbiB0aGVtIGludG8gdGhlIGNvbHVtbnMKCiAgICAgICAgICB2aXN1YWxzLmZvckVhY2godmlzdWFsID0+IHsKICAgICAgICAgICAgaWYgKHZpc3VhbC5jb2x1bW5Db3VudCA9PT0gLTEpIHsKICAgICAgICAgICAgICBjb25zdCBjb2x1bW5zID0gW3Zpc3VhbF07CiAgICAgICAgICAgICAgdmlzdWFscy5mb3JFYWNoKG90aGVyID0+IHsKICAgICAgICAgICAgICAgIGlmIChvdGhlciAhPT0gdmlzdWFsICYmIG90aGVyLmNvbHVtbkNvdW50ID09PSAtMSAmJiB0aGlzLmlzT3ZlcmxhcHBpbmcodmlzdWFsLCBvdGhlcikpIHsKICAgICAgICAgICAgICAgICAgY29sdW1ucy5wdXNoKG90aGVyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgaWYgKGNvbHVtbnMubGVuZ3RoID4gMSkgewogICAgICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKCh2aXN1YWwsIHZpc3VhbEluZGV4KSA9PiB7CiAgICAgICAgICAgICAgICAgIHZpc3VhbC5jb2x1bW4gPSB2aXN1YWxJbmRleDsKICAgICAgICAgICAgICAgICAgdmlzdWFsLmNvbHVtbkNvdW50ID0gY29sdW1ucy5sZW5ndGg7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2aXN1YWxzLmZvckVhY2godmlzdWFsID0+IHsKICAgICAgICAgICAgdmlzdWFsLm9mZnNldCA9IGdldE9mZnNldCh2aXN1YWwsIHZpc3VhbHMpOwogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICB2aXN1YWxzLnNvcnQoKGEsIGIpID0+IGEub2Zmc2V0IC0gYi5vZmZzZXQgfHwgYS5jb2x1bW4gLSBiLmNvbHVtbik7CiAgICAgICAgcmV0dXJuIHZpc3VhbHM7CiAgICAgIH07CgogICAgICBjb25zdCBnZXRTbG90Q2hpbGRyZW4gPSAoZGF5LCBnZXR0ZXIsIG1hcHBlciwgdGltZWQpID0+IHsKICAgICAgICBjaGVja1Jlc2V0KGRheSk7CiAgICAgICAgY29uc3QgZXZlbnRzID0gZ2V0dGVyKGRheSk7CiAgICAgICAgcmV0dXJuIGV2ZW50cy5sZW5ndGggPT09IDAgPyB1bmRlZmluZWQgOiBnZXRWaXN1YWxzKGV2ZW50cywgdGltZWQpLm1hcCgodmlzdWFsLCBpbmRleCkgPT4gbWFwcGVyKHZpc3VhbCwgaW5kZXgsIGRheSkpOwogICAgICB9OwoKICAgICAgcmV0dXJuIHsgLi4udGhpcy4kc2NvcGVkU2xvdHMsCiAgICAgICAgZGF5OiBkYXkgPT4gewogICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBnZXRTbG90Q2hpbGRyZW4oZGF5LCB0aGlzLmdldEV2ZW50c0ZvckRheSwgdGhpcy5nZW5EYXlFdmVudCwgZmFsc2UpOwoKICAgICAgICAgIGlmIChjaGlsZHJlbiAmJiBjaGlsZHJlbi5sZW5ndGggPiAwICYmIHRoaXMuZXZlbnRNb3JlKSB7CiAgICAgICAgICAgIGNoaWxkcmVuLnB1c2godGhpcy5nZW5Nb3JlKGRheSkpOwogICAgICAgICAgfQoKICAgICAgICAgIHJldHVybiBjaGlsZHJlbjsKICAgICAgICB9LAogICAgICAgICdkYXktaGVhZGVyJzogZGF5ID0+IHsKICAgICAgICAgIHJldHVybiBnZXRTbG90Q2hpbGRyZW4oZGF5LCB0aGlzLmdldEV2ZW50c0ZvckRheUFsbCwgdGhpcy5nZW5EYXlFdmVudCwgZmFsc2UpOwogICAgICAgIH0sCiAgICAgICAgJ2RheS1ib2R5JzogZGF5ID0+IHsKICAgICAgICAgIHJldHVybiBbdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2JywgewogICAgICAgICAgICBzdGF0aWNDbGFzczogJ3YtZXZlbnQtdGltZWQtY29udGFpbmVyJwogICAgICAgICAgfSwgZ2V0U2xvdENoaWxkcmVuKGRheSwgdGhpcy5nZXRFdmVudHNGb3JEYXlUaW1lZCwgdGhpcy5nZW5UaW1lZEV2ZW50LCB0cnVlKSldOwogICAgICAgIH0KICAgICAgfTsKICAgIH0KCiAgfQp9KTs="},{"version":3,"sources":["E:/platzi/MINTIC_curso-de-machine-learning-para-analisis-predicitivo/fabrica-memes/node_modules/vuetify/lib/components/VCalendar/mixins/calendar-with-events.js"],"names":["ripple","CalendarBase","props","getDayIdentifier","parseTime","parseEvent","isEventOn","extend","name","directives","events","computed","noEvents","length","parsedEvents","map","input","index","eventStart","eventEnd","eventColorFunction","eventColor","eventTextColorFunction","eventTextColor","eventNameFunction","eventName","event","timedEvent","start","hasTime","showStart","hour","end","formatTime","time","methods","withTime","ampm","suffix","minute","updateEventVisibility","eventMore","eventHeight","eventsMap","getEventsMap","date","parent","more","parentBounds","getBoundingClientRect","last","hide","hidden","i","eventBounds","bottom","style","display","id","getAttribute","hideEvents","innerHTML","$vuetify","lang","t","eventMoreText","elements","$refs","forEach","el","parentElement","push","genDayEvent","offset","day","eventMarginBottom","relativeOffset","dayIdentifier","startIdentifier","endIdentifier","scope","outside","timed","genEvent","staticClass","class","height","top","attrs","key","ref","refInFor","genTimedEvent","columnCount","column","timeToY","Math","max","left","right","showName","data","slot","$scopedSlots","text","background","$createElement","setTextColor","setBackgroundColor","on","getDefaultMouseEventHandlers","nativeEvent","value","eventRipple","genName","undefined","domProps","genMore","click","$emit","getEventsForDay","identifier","filter","getEventsForDayAll","allDay","getEventsForDayTimed","isSameColumn","a","b","astart","bstart","diff","abs","eventOverlapThreshold","isOverlapping","aend","bend","getScopedSlots","indexToOffset","resetOnWeekday","weekdays","checkReset","weekday","getOffset","visual","visuals","min","Number","MAX_SAFE_INTEGER","other","otherOffset","getVisuals","sort","startTimestampIdentifier","columns","visualIndex","endTimestampIdentifier","getSlotChildren","getter","mapper","children"],"mappings":"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","sourcesContent":["// Styles\r\nimport \"../../../../src/components/VCalendar/mixins/calendar-with-events.sass\"; // Directives\r\n\r\nimport ripple from '../../../directives/ripple'; // Mixins\r\n\r\nimport CalendarBase from './calendar-base'; // Util\r\n\r\nimport props from '../util/props';\r\nimport { getDayIdentifier, parseTime } from '../util/timestamp';\r\nimport { parseEvent, isEventOn } from '../util/events';\r\n/* @vue/component */\r\n\r\nexport default CalendarBase.extend({\r\n  name: 'calendar-with-events',\r\n  directives: {\r\n    ripple\r\n  },\r\n  props: props.events,\r\n  computed: {\r\n    noEvents() {\r\n      return this.events.length === 0;\r\n    },\r\n\r\n    parsedEvents() {\r\n      return this.events.map((input, index) => parseEvent(input, index, this.eventStart, this.eventEnd));\r\n    },\r\n\r\n    eventColorFunction() {\r\n      return typeof this.eventColor === 'function' ? this.eventColor : () => this.eventColor;\r\n    },\r\n\r\n    eventTextColorFunction() {\r\n      return typeof this.eventTextColor === 'function' ? this.eventTextColor : () => this.eventTextColor;\r\n    },\r\n\r\n    eventNameFunction() {\r\n      return typeof this.eventName === 'function' ? this.eventName : (event, timedEvent) => {\r\n        const name = event.input[this.eventName];\r\n\r\n        if (event.start.hasTime) {\r\n          if (timedEvent) {\r\n            const showStart = event.start.hour < 12 && event.end.hour >= 12;\r\n            const start = this.formatTime(event.start, showStart);\r\n            const end = this.formatTime(event.end, true);\r\n            return `<strong>${name}</strong><br>${start} - ${end}`;\r\n          } else {\r\n            const time = this.formatTime(event.start, true);\r\n            return `<strong>${time}</strong> ${name}`;\r\n          }\r\n        }\r\n\r\n        return name;\r\n      };\r\n    }\r\n\r\n  },\r\n  methods: {\r\n    formatTime(withTime, ampm) {\r\n      const suffix = ampm ? withTime.hour < 12 ? 'a' : 'p' : '';\r\n      const hour = withTime.hour % 12 || 12;\r\n      const minute = withTime.minute;\r\n      return minute > 0 ? minute < 10 ? `${hour}:0${minute}${suffix}` : `${hour}:${minute}${suffix}` : `${hour}${suffix}`;\r\n    },\r\n\r\n    updateEventVisibility() {\r\n      if (this.noEvents || !this.eventMore) {\r\n        return;\r\n      }\r\n\r\n      const eventHeight = this.eventHeight;\r\n      const eventsMap = this.getEventsMap();\r\n\r\n      for (const date in eventsMap) {\r\n        const {\r\n          parent,\r\n          events,\r\n          more\r\n        } = eventsMap[date];\r\n\r\n        if (!more) {\r\n          break;\r\n        }\r\n\r\n        const parentBounds = parent.getBoundingClientRect();\r\n        const last = events.length - 1;\r\n        let hide = false;\r\n        let hidden = 0;\r\n\r\n        for (let i = 0; i <= last; i++) {\r\n          if (!hide) {\r\n            const eventBounds = events[i].getBoundingClientRect();\r\n            hide = eventBounds.bottom + eventHeight > parentBounds.bottom && i !== last || events[i].style.display === 'none';\r\n          }\r\n\r\n          if (hide) {\r\n            const id = events[i].getAttribute('data-event');\r\n            this.hideEvents(id);\r\n            hidden++;\r\n          }\r\n        }\r\n\r\n        if (hide) {\r\n          more.style.display = '';\r\n          more.innerHTML = this.$vuetify.lang.t(this.eventMoreText, hidden);\r\n        } else {\r\n          more.style.display = 'none';\r\n        }\r\n      }\r\n    },\r\n\r\n    hideEvents(id) {\r\n      const elements = this.$refs.events;\r\n      elements.forEach(el => {\r\n        if (el.getAttribute('data-event') === id) {\r\n          el.style.display = 'none';\r\n        }\r\n      });\r\n    },\r\n\r\n    getEventsMap() {\r\n      const eventsMap = {};\r\n      const elements = this.$refs.events;\r\n\r\n      if (!elements || !elements.forEach) {\r\n        return eventsMap;\r\n      }\r\n\r\n      elements.forEach(el => {\r\n        const date = el.getAttribute('data-date');\r\n\r\n        if (el.parentElement && date) {\r\n          if (!(date in eventsMap)) {\r\n            eventsMap[date] = {\r\n              parent: el.parentElement,\r\n              more: null,\r\n              events: []\r\n            };\r\n          }\r\n\r\n          if (el.getAttribute('data-more')) {\r\n            eventsMap[date].more = el;\r\n          } else {\r\n            eventsMap[date].events.push(el);\r\n            el.style.display = '';\r\n          }\r\n        }\r\n      });\r\n      return eventsMap;\r\n    },\r\n\r\n    genDayEvent({\r\n      offset,\r\n      event\r\n    }, index, day) {\r\n      const eventHeight = this.eventHeight;\r\n      const eventMarginBottom = this.eventMarginBottom;\r\n      const relativeOffset = (offset - index) * (eventHeight + eventMarginBottom); // 1 = margin bottom\r\n\r\n      const dayIdentifier = getDayIdentifier(day);\r\n      const start = dayIdentifier === event.startIdentifier;\r\n      const end = dayIdentifier === event.endIdentifier;\r\n      const scope = {\r\n        event: event.input,\r\n        day,\r\n        outside: day.outside,\r\n        start,\r\n        end,\r\n        timed: false\r\n      };\r\n      return this.genEvent(event, scope, start || day.index === 0, false, {\r\n        staticClass: 'v-event',\r\n        class: {\r\n          'v-event-start': start,\r\n          'v-event-end': end\r\n        },\r\n        style: {\r\n          height: `${eventHeight}px`,\r\n          top: `${relativeOffset}px`,\r\n          'margin-bottom': `${eventMarginBottom}px`\r\n        },\r\n        attrs: {\r\n          'data-date': day.date,\r\n          'data-event': event.index\r\n        },\r\n        key: event.index,\r\n        ref: 'events',\r\n        refInFor: true\r\n      });\r\n    },\r\n\r\n    genTimedEvent({\r\n      offset,\r\n      event,\r\n      columnCount,\r\n      column\r\n    }, index, day) {\r\n      const dayIdentifier = getDayIdentifier(day);\r\n      const start = event.startIdentifier >= dayIdentifier;\r\n      const end = event.endIdentifier > dayIdentifier;\r\n      const top = start ? day.timeToY(event.start) : 0;\r\n      const bottom = end ? day.timeToY(1440) : day.timeToY(event.end);\r\n      const height = Math.max(this.eventHeight, bottom - top);\r\n      const left = columnCount === -1 ? offset * 5 : column * 100 / columnCount;\r\n      const right = columnCount === -1 ? 0 : Math.max(0, (columnCount - column - 2) * 100 / columnCount + 10);\r\n      const scope = {\r\n        event: event.input,\r\n        day,\r\n        outside: day.outside,\r\n        start,\r\n        end,\r\n        timed: true\r\n      };\r\n      return this.genEvent(event, scope, true, true, {\r\n        staticClass: 'v-event-timed',\r\n        style: {\r\n          top: `${top}px`,\r\n          height: `${height}px`,\r\n          left: `${left}%`,\r\n          right: `${right}%`\r\n        }\r\n      });\r\n    },\r\n\r\n    genEvent(event, scope, showName, timedEvent, data) {\r\n      const slot = this.$scopedSlots.event;\r\n      const text = this.eventTextColorFunction(event.input);\r\n      const background = this.eventColorFunction(event.input);\r\n      return this.$createElement('div', this.setTextColor(text, this.setBackgroundColor(background, {\r\n        on: this.getDefaultMouseEventHandlers(':event', nativeEvent => ({ ...scope,\r\n          nativeEvent\r\n        })),\r\n        directives: [{\r\n          name: 'ripple',\r\n          value: this.eventRipple != null ? this.eventRipple : true\r\n        }],\r\n        ...data\r\n      })), slot ? slot(scope) : showName ? [this.genName(event, timedEvent)] : undefined);\r\n    },\r\n\r\n    genName(event, timedEvent) {\r\n      return this.$createElement('div', {\r\n        staticClass: 'pl-1',\r\n        domProps: {\r\n          innerHTML: this.eventNameFunction(event, timedEvent)\r\n        }\r\n      });\r\n    },\r\n\r\n    genMore(day) {\r\n      return this.$createElement('div', {\r\n        staticClass: 'v-event-more pl-1',\r\n        attrs: {\r\n          'data-date': day.date,\r\n          'data-more': 1\r\n        },\r\n        directives: [{\r\n          name: 'ripple',\r\n          value: this.eventRipple != null ? this.eventRipple : true\r\n        }],\r\n        on: {\r\n          click: () => this.$emit('click:more', day)\r\n        },\r\n        style: {\r\n          display: 'none'\r\n        },\r\n        ref: 'events',\r\n        refInFor: true\r\n      });\r\n    },\r\n\r\n    getEventsForDay(day) {\r\n      const identifier = getDayIdentifier(day);\r\n      return this.parsedEvents.filter(event => isEventOn(event, identifier));\r\n    },\r\n\r\n    getEventsForDayAll(day) {\r\n      const identifier = getDayIdentifier(day);\r\n      return this.parsedEvents.filter(event => event.allDay && isEventOn(event, identifier));\r\n    },\r\n\r\n    getEventsForDayTimed(day) {\r\n      const identifier = getDayIdentifier(day);\r\n      return this.parsedEvents.filter(event => !event.allDay && isEventOn(event, identifier));\r\n    },\r\n\r\n    isSameColumn(a, b) {\r\n      const astart = parseTime(a.event.start);\r\n      const bstart = parseTime(b.event.start);\r\n      const diff = astart - bstart;\r\n      const abs = diff < 0 ? -diff : diff;\r\n      return abs < this.eventOverlapThreshold;\r\n    },\r\n\r\n    isOverlapping(a, b) {\r\n      const astart = parseTime(a.event.start);\r\n      const bstart = parseTime(b.event.start);\r\n\r\n      if (a.offset < b.offset && bstart < astart) {\r\n        const aend = astart + this.eventOverlapThreshold;\r\n        const bend = parseTime(b.event.end);\r\n        return !(astart >= bend || aend <= bstart);\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n    getScopedSlots() {\r\n      if (this.noEvents) {\r\n        return this.$scopedSlots;\r\n      }\r\n      /**\r\n       * Over the span of a week (for example) we want to maintain an event in the same row (for weekly and monthly views).\r\n       * We keep track of those rows by indexToOffset. If the value in that array is -1, then we can place an event at that spot.\r\n       * For a daily view with timed events we arrange them based on columns and offsets. If two or more events start at around the\r\n       * same time (eventOverlapThreshold) they go into columns. If one event starts inside another it is indented the appropriate amount.\r\n       * If one event overlaps another after those adjustments are made those events are placed in columns together instead of any defined\r\n       * indents.\r\n       */\r\n\r\n\r\n      const parsedEvents = this.parsedEvents;\r\n      const indexToOffset = parsedEvents.map(event => -1);\r\n      const resetOnWeekday = this.weekdays[0];\r\n\r\n      const checkReset = day => {\r\n        if (day.weekday === resetOnWeekday) {\r\n          for (let i = 0; i < indexToOffset.length; i++) {\r\n            indexToOffset[i] = -1;\r\n          }\r\n        }\r\n      };\r\n\r\n      const getOffset = (visual, visuals) => {\r\n        let offset = indexToOffset[visual.event.index];\r\n\r\n        if (offset === -1) {\r\n          let min = Number.MAX_SAFE_INTEGER;\r\n          let max = -1;\r\n          visuals.forEach(other => {\r\n            const otherOffset = indexToOffset[other.event.index];\r\n\r\n            if (otherOffset !== -1) {\r\n              min = Math.min(min, otherOffset);\r\n              max = Math.max(max, otherOffset);\r\n            }\r\n          });\r\n          offset = min > 0 && max !== -1 ? min - 1 : max + 1;\r\n          indexToOffset[visual.event.index] = offset;\r\n        }\r\n\r\n        return offset;\r\n      };\r\n\r\n      const getVisuals = (events, timed) => {\r\n        const visuals = events.map(event => ({\r\n          event,\r\n          offset: 0,\r\n          columnCount: -1,\r\n          column: -1\r\n        })); // sort events by start date/time\r\n\r\n        visuals.sort((a, b) => a.event.startTimestampIdentifier - b.event.startTimestampIdentifier);\r\n\r\n        if (timed) {\r\n          // timed events can be organized into columns\r\n          visuals.forEach(visual => {\r\n            if (visual.columnCount !== -1) {\r\n              return;\r\n            }\r\n\r\n            const columns = [];\r\n            visuals.forEach(other => {\r\n              if (other.columnCount === -1 && this.isSameColumn(visual, other)) {\r\n                columns.push(other);\r\n              }\r\n            });\r\n\r\n            if (columns.length > 1) {\r\n              columns.forEach((visual, visualIndex) => {\r\n                visual.column = visualIndex;\r\n                visual.columnCount = columns.length;\r\n              });\r\n            }\r\n          }); // for any not organized into columns, if they overlap another event\r\n          // not in a column they are offset\r\n\r\n          visuals.forEach(visual => {\r\n            if (visual.columnCount === -1) {\r\n              visuals.forEach(other => {\r\n                const otherOffset = indexToOffset[other.event.index];\r\n\r\n                if (otherOffset !== -1 && other.event.endTimestampIdentifier <= visual.event.startTimestampIdentifier) {\r\n                  indexToOffset[other.event.index] = -1;\r\n                }\r\n              });\r\n              visual.offset = getOffset(visual, visuals);\r\n            }\r\n          }); // for any not organized into columns, if a previous event overlaps this event\r\n          // join them into the columns\r\n\r\n          visuals.forEach(visual => {\r\n            if (visual.columnCount === -1) {\r\n              const columns = [visual];\r\n              visuals.forEach(other => {\r\n                if (other !== visual && other.columnCount === -1 && this.isOverlapping(visual, other)) {\r\n                  columns.push(other);\r\n                }\r\n              });\r\n\r\n              if (columns.length > 1) {\r\n                columns.forEach((visual, visualIndex) => {\r\n                  visual.column = visualIndex;\r\n                  visual.columnCount = columns.length;\r\n                });\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          visuals.forEach(visual => {\r\n            visual.offset = getOffset(visual, visuals);\r\n          });\r\n        }\r\n\r\n        visuals.sort((a, b) => a.offset - b.offset || a.column - b.column);\r\n        return visuals;\r\n      };\r\n\r\n      const getSlotChildren = (day, getter, mapper, timed) => {\r\n        checkReset(day);\r\n        const events = getter(day);\r\n        return events.length === 0 ? undefined : getVisuals(events, timed).map((visual, index) => mapper(visual, index, day));\r\n      };\r\n\r\n      return { ...this.$scopedSlots,\r\n        day: day => {\r\n          const children = getSlotChildren(day, this.getEventsForDay, this.genDayEvent, false);\r\n\r\n          if (children && children.length > 0 && this.eventMore) {\r\n            children.push(this.genMore(day));\r\n          }\r\n\r\n          return children;\r\n        },\r\n        'day-header': day => {\r\n          return getSlotChildren(day, this.getEventsForDayAll, this.genDayEvent, false);\r\n        },\r\n        'day-body': day => {\r\n          return [this.$createElement('div', {\r\n            staticClass: 'v-event-timed-container'\r\n          }, getSlotChildren(day, this.getEventsForDayTimed, this.genTimedEvent, true))];\r\n        }\r\n      };\r\n    }\r\n\r\n  }\r\n});\r\n//# sourceMappingURL=calendar-with-events.js.map"]}]}